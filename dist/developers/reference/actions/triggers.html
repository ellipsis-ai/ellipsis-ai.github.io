<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Ellipsis · Get work done in chat by ellipsis-ai</title>

    <link rel="stylesheet" href="/assets/css/style.css?v=ed781f0c570287fccb2d3eaaf8a5c246c1a9715d">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Ellipsis · Get work done in chat</h1>
        <p>Ellipsis documentation.
</p>

        
          <p class="view"><a href="http://github.com/ellipsis-ai/ellipsis-ai.github.io">View the Project on GitHub <small></small></a></p>
        

        

        
      </header>
      <section>

      <h1 id="triggers">Triggers</h1>

<p>Triggers tell Ellipsis what text to listen for in order to run an action. When someone types a phrase in chat that matches a trigger, Ellipsis will run the action and return a response (if any) in the same channel (or group or direct message).</p>

<p><em>Note: Ellipsis must be present in the channel to see and respond to a trigger.</em></p>

<h2 id="trigger-types">Trigger types</h2>

<p>There are two types of triggers:</p>
<ul>
  <li>phrase triggers</li>
  <li>regular expression triggers</li>
</ul>

<h2 id="to-ellipsis-versus-any-message"><em>To Ellipsis</em> versus <em>Any message</em></h2>

<p>By default, when <em>To Ellipsis</em> is selected, a person must mention Ellipsis in a message to activate the trigger if it’s in a group channel. (If the message is private from the user to Ellipsis, this does not apply.)</p>

<p>If <em>Any message</em> is selected, Ellipsis will respond regardless of whether it is mentioned in the message.</p>

<p><em>Note: a shortcut to mention Ellipsis is to start a message with three periods or the ellipsis character (“…” or “…”).</em></p>

<h3 id="phrase-triggers">Phrase triggers</h3>

<p>By default, triggers match whenever someone begins a message with the phrase specified by the trigger, while also mentioning Ellipsis. Upper/lowercase differences are always ignored.</p>

<h4 id="example">Example</h4>

<p><em>Trigger phrase:</em></p>
<ul>
  <li><code class="highlighter-rouge">what's on my calendar</code></li>
</ul>

<p><em>Matching messages:</em></p>
<ul>
  <li><code class="highlighter-rouge">@ellipsis what's on my calendar</code></li>
  <li><code class="highlighter-rouge">...what's on my calendar</code></li>
  <li><code class="highlighter-rouge">What's on my calendar, @ellipsis?</code></li>
  <li><code class="highlighter-rouge">WHAT'S ON MY CALENDAR YOU BLASTED ROBOT, @ELLIPSIS!</code></li>
</ul>

<p><em>Non-matching messages:</em></p>
<ul>
  <li><code class="highlighter-rouge">what's on my calendar</code> – Ellipsis isn’t mentioned</li>
  <li><code class="highlighter-rouge">that's what's on my calendar @ellipsis</code> – message contains the trigger text, but doesn’t start with it</li>
</ul>

<h3 id="fill-in-the-blank-input">Fill-in-the-blank input</h3>

<p>Phrase triggers can include “fill-in-the-blank” portions that match any text by using curly braces with a name, e.g. <code class="highlighter-rouge"><span class="p">{</span><span class="err">keyword</span><span class="p">}</span></code>. If you define <a href="/developers/reference/actions/inputs.html">inputs</a> with the same names, the text will be assigned for that input, instead of asking the user a question. The fill-in-the-blank name must be a single word, starting with a letter, and containing only letters, numbers and/or underscores.</p>

<h4 id="example-1">Example 1</h4>

<p><em>Trigger phrase:</em></p>
<ul>
  <li><code class="highlighter-rouge">fetch the report for {date}</code></li>
</ul>

<p><em>Matching messages:</em></p>
<ul>
  <li><code class="highlighter-rouge">@ellipsis Fetch the report for yesterday</code> – uses “yesterday” for the <code class="highlighter-rouge">date</code> input</li>
  <li><code class="highlighter-rouge">...fetch the report for May 2017</code> – uses “May 2017” for the <code class="highlighter-rouge">date</code> input</li>
  <li><code class="highlighter-rouge">...fetch the report for apples</code> – uses “apples” for the <code class="highlighter-rouge">date</code> input</li>
</ul>

<p><em>Non-matching message:</em></p>
<ul>
  <li><code class="highlighter-rouge">@ellipsis fetch yesterday's report</code></li>
</ul>

<h4 id="example-2">Example 2</h4>

<p><em>Trigger phrase:</em></p>
<ul>
  <li><code class="highlighter-rouge">notify {person} in {group}</code></li>
</ul>

<p><em>Matching messages:</em></p>
<ul>
  <li><code class="highlighter-rouge">@ellipsis Notify Luke Andrews in accounting</code> – uses “Luke Andrews” for <code class="highlighter-rouge">person</code> and “accounting” for <code class="highlighter-rouge">group</code></li>
  <li><code class="highlighter-rouge">...notify bob in #general</code> – uses “bob” for <code class="highlighter-rouge">person</code> and “#general#” for <code class="highlighter-rouge">group</code></li>
  <li><code class="highlighter-rouge">@ellipsis notify Andrew Catton in the circus ring</code> – uses “Andrew Catton” for <code class="highlighter-rouge">person</code> and “the circus ring” for <code class="highlighter-rouge">group</code></li>
</ul>

<h3 id="regular-expression-triggers">Regular expression triggers</h3>

<p>Regular expression (aka regex) triggers use <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html">Java-8-compatible pattern matching</a>. This permits a lot more flexibility in terms of deciding what text should match, at the expense of readability. (It’s usually a good idea to define at least one phrase trigger in addition to any regular expression triggers.)</p>

<h4 id="example-1">Example</h4>

<p><em>Trigger pattern:</em></p>
<ul>
  <li><code class="highlighter-rouge">fetch the report$</code></li>
</ul>

<p><em>Matching message:</em></p>
<ul>
  <li><code class="highlighter-rouge">@ellipsis fetch the report</code></li>
</ul>

<p><em>Non-matching message:</em></p>
<ul>
  <li><code class="highlighter-rouge">@ellipsis fetch the report for today</code> – the <code class="highlighter-rouge">$</code> terminator prevents matching partial text</li>
</ul>

<h4 id="case-sensitivity">Case sensitivity</h4>

<p>Case sensitivity is turned off by default. To turn it on, add the prefix <code class="highlighter-rouge">(?-i)</code> to your regular expression.</p>

<ul>
  <li><code class="highlighter-rouge">ABC</code> – will match “ABC”, “abc”, “Abc”, etc.</li>
  <li><code class="highlighter-rouge">(?-i)ABC</code> – will only match “ABC”, not “abc” or “Abc”</li>
</ul>

<h3 id="collecting-inputs-with-regular-expression-patterns">Collecting inputs with regular expression patterns</h3>

<p>Use capturing parentheses to collect inputs. The captured text will be assigned to the inputs in the same order that the inputs are defined. If you <em>don’t</em> want to collect input but you need parentheses, use the non-capturing flag. For example, <code class="highlighter-rouge">(foo|bar)</code> will match “foo” or “bar”, and will collect it as an input. <code class="highlighter-rouge">(?:foo|bar)</code> will match “foo” or “bar”, but it won’t be collected as input.</p>

<h4 id="example-1-1">Example 1</h4>

<p><em>Trigger pattern:</em></p>
<ul>
  <li><code class="highlighter-rouge">fetch the report for (\d{4}-\d{2})$</code></li>
</ul>

<p><em>Matching message:</em></p>
<ul>
  <li><code class="highlighter-rouge">...fetch the report for 2017-05</code> – “2017-05” will be used for the first input</li>
</ul>

<p><em>Non-matching message:</em></p>
<ul>
  <li><code class="highlighter-rouge">...fetch the report for last month</code> – “last month” doesn’t match the pattern</li>
</ul>

<h4 id="example-2-1">Example 2</h4>

<p><em>Trigger pattern:</em></p>
<ul>
  <li><code class="highlighter-rouge">remind me at ((?:1[0-2]|[1-9]):[0-5][0-9])\s*([ap]\.?m\.?)</code></li>
</ul>

<p><em>Matching messages:</em></p>
<ul>
  <li><code class="highlighter-rouge">@ellipsis remind me at 12:59 pm</code> – “12:59” and “pm” will be collected as the first and second inputs respectively</li>
  <li><code class="highlighter-rouge">...remind me at 1:05 A.M.</code> – “1:05” and “A.M.” will be collected as the first and second inputs respectively</li>
</ul>

<p><em>Non-matching messages:</em></p>
<ul>
  <li><code class="highlighter-rouge">...remind me at 19:00 UTC</code></li>
</ul>



      </section>
      <footer>
        
        <p>This project is maintained by <a href="http://github.com/ellipsis-ai">ellipsis-ai</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>


  
  </body>
</html>
